/*!
 * PixiPlugin 3.12.7
 * https://gsap.com
 * 
 * @license Copyright 2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */

let t,r,e,i,o,l,s,n,a,u,h=()=>"undefined"!=typeof window,c=()=>t||h()&&(t=window.gsap)&&t.registerPlugin&&t,p=t=>"function"==typeof t,g=t=>console.warn(t),d=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],f=.212671,b=.71516,x=.072169,m=t=>p(i[t])?i[t]:i.filters[t],P=(t,r)=>{let e,i,o=[],l=0,s=0;for(e=0;e<4;e++){for(i=0;i<5;i++)s=4===i?t[l+4]:0,o[l+i]=t[l]*r[i]+t[l+1]*r[i+5]+t[l+2]*r[i+10]+t[l+3]*r[i+15]+s;l+=5}return o},z=(t,r)=>{let e=1-r,i=e*f,o=e*b,l=e*x;return P([i+r,o,l,0,0,i,o+r,l,0,0,i,o,l+r,0,0,0,0,0,1,0],t)},w=(t,e,i)=>{let o=r(e),l=o[0]/255,s=o[1]/255,n=o[2]/255,a=1-i;return P([a+i*l*f,i*l*b,i*l*x,0,0,i*s*f,a+i*s*b,i*s*x,0,0,i*n*f,i*n*b,a+i*n*x,0,0,0,0,0,1,0],t)},M=(t,r)=>{r*=Math.PI/180;let e=Math.cos(r),i=Math.sin(r);return P([f+e*(1-f)+i*-f,b+e*-b+i*-b,x+e*-x+i*(1-x),0,0,f+e*-f+.143*i,b+.28484*e+.14*i,x+e*-x+-.283*i,0,0,f+e*-f+-.787329*i,b+e*-b+i*b,x+e*(1-x)+i*x,0,0,0,0,0,1,0,0,0,0,0,1],t)},I=(t,r)=>P([r,0,0,0,.5*(1-r),0,r,0,0,.5*(1-r),0,0,r,0,.5*(1-r),0,0,0,1,0],t),A=(t,r)=>{let e,i=m(r),o=t.filters||[],l=o.length;for(i||g(r+" not found. PixiPlugin.registerPIXI(PIXI)");--l>-1;)if(o[l]instanceof i)return o[l];return e=new i,"BlurFilter"===r&&(e.blur=0),o.push(e),t.filters=o,e},F=(t,r,e,i)=>{r.add(e,t,e[t],i[t]),r._props.push(t)},_=(t,r)=>{let e=new(m("ColorMatrixFilter"));return e.matrix=r,e.brightness(t,!0),e.matrix},C={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},y=(t,r,e)=>{let i,o,l,s=A(t,"ColorMatrixFilter"),n=t._gsColorMatrixFilter=t._gsColorMatrixFilter||(t=>{let r,e={};for(r in t)e[r]=t[r];return e})(C),a=r.combineCMF&&!("colorMatrixFilter"in r&&!r.colorMatrixFilter);l=s.matrix,r.resolution&&(s.resolution=r.resolution),r.matrix&&r.matrix.length===l.length?(o=r.matrix,1!==n.contrast&&F("contrast",e,n,C),n.hue&&F("hue",e,n,C),1!==n.brightness&&F("brightness",e,n,C),n.colorizeAmount&&(F("colorize",e,n,C),F("colorizeAmount",e,n,C)),1!==n.saturation&&F("saturation",e,n,C)):(o=d.slice(),null!=r.contrast?(o=I(o,+r.contrast),F("contrast",e,n,r)):1!==n.contrast&&(a?o=I(o,n.contrast):F("contrast",e,n,C)),null!=r.hue?(o=M(o,+r.hue),F("hue",e,n,r)):n.hue&&(a?o=M(o,n.hue):F("hue",e,n,C)),null!=r.brightness?(o=_(+r.brightness,o),F("brightness",e,n,r)):1!==n.brightness&&(a?o=_(n.brightness,o):F("brightness",e,n,C)),null!=r.colorize?(r.colorizeAmount="colorizeAmount"in r?+r.colorizeAmount:1,o=w(o,r.colorize,r.colorizeAmount),F("colorize",e,n,r),F("colorizeAmount",e,n,r)):n.colorizeAmount&&(a?o=w(o,n.colorize,n.colorizeAmount):(F("colorize",e,n,C),F("colorizeAmount",e,n,C))),null!=r.saturation?(o=z(o,+r.saturation),F("saturation",e,n,r)):1!==n.saturation&&(a?o=z(o,n.saturation):F("saturation",e,n,C))),i=o.length;for(;--i>-1;)o[i]!==l[i]&&e.add(l,i,l[i],o[i],"colorMatrixFilter");e._props.push("colorMatrixFilter")},X=(t,{t:r,p:e,color:i,set:o})=>{o(r,e,i[0]<<16|i[1]<<8|i[2])},S=(t,{g:r})=>{n?(r.fill(),r.stroke()):r&&(r.dirty++,r.clearDirty++)},k=(t,r)=>{r.t.visible=!!r.t.alpha},v=(t,e,i,s)=>{let n=t[e],a=r(p(n)?t[e.indexOf("set")||!p(t["get"+e.substr(3)])?e:"get"+e.substr(3)]():n),u=r(i);s._pt=new o(s._pt,t,e,0,0,X,{t:t,p:e,color:a,set:l(t,e)}),s.add(a,0,a[0],u[0]),s.add(a,1,a[1],u[1]),s.add(a,2,a[2],u[2])},O={tint:1,lineColor:1,fillColor:1,strokeColor:1},Y="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),B={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},D={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},E=Math.PI/180,N=t=>"string"==typeof t,R=t=>N(t)&&"="===t.charAt(1)?t.substr(0,2)+parseFloat(t.substr(2))*E:t*E,V=(t,r)=>r.set(r.t,r.p,1===t?r.e:Math.round(1e5*(r.s+r.c*t))/1e5,r),G=(t,r,e,i,l,s)=>{let n,a,u=360*(s?E:1),h=N(l),c=h&&"="===l.charAt(1)?+(l.charAt(0)+"1"):0,p=parseFloat(c?l.substr(2):l)*(s?E:1),g=c?p*c:p-i,d=i+g;return h&&(n=l.split("_")[1],"short"===n&&(g%=u,g!==g%(u/2)&&(g+=g<0?u:-u)),"cw"===n&&g<0?g=(g+1e10*u)%u-~~(g/u)*u:"ccw"===n&&g>0&&(g=(g-1e10*u)%u-~~(g/u)*u)),t._pt=a=new o(t._pt,r,e,i,g,V),a.e=d,a},L=()=>{if(!e){t=c(),i=e=i||h()&&window.PIXI;let o=i&&i.VERSION&&parseFloat(i.VERSION.split(".")[0])||0;s=4===o,n=o>=8,r=r=>t.utils.splitColor("0x"===(r+"").substr(0,2)?"#"+r.substr(2):r)}};for(a=0;a<Y.length;a++)u=Y[a],B[u+"X"]=u,B[u+"Y"]=u;const j={version:"3.12.7",name:"pixi",register(r,e,i){t=r,o=i,l=e.getSetter,L()},headless:!0,registerPIXI(t){i=t},init(t,r,e,l,a){if(i||L(),!i)return g("PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;let u,h,c,p,d,f,b,x,m,P;for(f in r){if(u=B[f],c=r[f],u)h=~f.charAt(f.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(t[u],h,t[u][h],"skew"===u?R(c):c,0,0,0,0,0,1);else if("scale"===f||"anchor"===f||"pivot"===f||"tileScale"===f)this.add(t[f],"x",t[f].x,c),this.add(t[f],"y",t[f].y,c);else if("rotation"===f||"angle"===f)G(this,t,f,t[f],c,"rotation"===f);else if(D[f])p||(y(t,r.colorMatrixFilter||r,this),p=!0);else if("blur"===f||"blurX"===f||"blurY"===f||"blurPadding"===f){if(d=A(t,"BlurFilter"),this.add(d,f,d[f],c),0!==r.blurPadding)for(b=r.blurPadding||2*Math.max(d[f],c),x=t.filters.length;--x>-1;)t.filters[x].padding=Math.max(t.filters[x].padding,b)}else if(O[f])if(("lineColor"===f||"fillColor"===f||"strokeColor"===f)&&t instanceof i.Graphics){m="fillStyle"in t?[t]:(t.geometry||t).graphicsData,P=f.substr(0,f.length-5),n&&"line"===P&&(P="stroke"),this._pt=new o(this._pt,t,f,0,0,S,{g:t.geometry||t}),x=m.length;for(;--x>-1;)v(s?m[x]:m[x][P+"Style"],s?f:"color",c,this)}else v(t,f,c,this);else"autoAlpha"===f?(this._pt=new o(this._pt,t,"visible",0,0,k),this.add(t,"alpha",t.alpha,c),this._props.push("alpha","visible")):"resolution"!==f&&this.add(t,f,"get",c);this._props.push(f)}}};c()&&t.registerPlugin(j);export default j;export{j as PixiPlugin};
